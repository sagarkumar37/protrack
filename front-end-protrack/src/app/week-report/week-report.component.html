
 <br>
<!-- <div class="container"> -->
    
        <div class="row">
            <div class="col-md-6">
               
                
                <div class="button-container col">
                  <button class="btn btn-primary" (click)="goToPreviousWeek()" >
                    <span>&#9665;</span> 
                  </button>
                  <button class="btn btn-primary" (click)="goToCurrentWeek()">Current Week</button>
                  <button class="btn btn-primary" (click)="goToNextWeek()" [disabled]="currentWeek ===101">
                    <span>&#9655;</span>
                  </button>
                </div>
              
                <!-- <div class="col"> -->
                  <!-- <mat-form-field class="custom-mat-form-field"> 
                    <mat-label>End Date</mat-label>
                    <input matInput type="date" class="form-control" placeholder="To Date" [(ngModel)]="endDate"/>
                  </mat-form-field>
                </div>-->
              
           
                <!-- <div class="col">
                  <mat-form-field class="custom-mat-form-field">
                    <mat-label>Employees</mat-label>
                    <mat-select [formControl]="selectedUsernames" multiple>
                      <mat-select-trigger>
                        {{selectedUsernames.value?.[0] || ''}}
                        <span *ngIf="(selectedUsernames.value?.length || 0) > 1" class="example-additional-selection">
                          (+{{(selectedUsernames.value?.length || 0) - 1}} {{selectedUsernames.value?.length === 2 ? 'other' : 'others'}})
                        </span>
                      </mat-select-trigger>
                      <mat-option #selectAllOption value="selectAll" (click)="toggleSelectAll()">Select All</mat-option>
                      <mat-option *ngFor="let username of usernames" [value]="username">{{username}}</mat-option>
                    </mat-select>
                  </mat-form-field>-->
                </div>
              <!-- </div>  -->

              <!-- <div class="col">
                <button class="btn btn-primary" (click)="fetchReport()">Fetch Report</button>
              </div> -->
        <br>
        <br>
        <div class="col-md-6">
          <div class="taskplan">
          <!-- <label for="reportType">Select Report Type:</label> -->
          <select id="reportType" class="custom-width" [(ngModel)]="selectedReportType" (change)="onReportTypeChange(selectedReportType)">
            <option value="task">Task Report</option>
            <option value="plan">Plan Report</option>
            <option value="ratings">Ratings Report</option>
          </select>
        </div>
        </div>
        
      
      </div>
      







<div   *ngIf="viewReport">

    <mat-card *ngIf="selectedReportType === 'task'" class="fixed-height-card">
        <mat-card-header>
          <mat-card-title>Weekly Task Report</mat-card-title>
        </mat-card-header>
        <mat-card-content>

    <div class="table-responsive">
        <!--<div class="col">
            <button class="btn btn-secondary" (click)="exportToExcel()">Export Report</button>
          </div>
          <br>-->
          

          <div class="col">
        <table class="table table-striped table-hover table-bordered">
            <thead class="thead-dark">
                <tr>
                    <!-- <th>User Name</th> -->
                    <th>Task</th>
                    <th>Status</th>
                    <th>Challenge</th>
                    <!-- <th>AI Tool</th> -->
                    <th>Date</th>
                </tr> 
            </thead>
            <tbody>
                <tr *ngFor="let input of inputs; let i = index">
                    <!-- <td>{{input.username}}</td> -->
                    <td>{{input.task_description}}</td>
                    <td>{{input.status}}</td>
                    <td>{{input.challenge_description}}</td>
                    <!-- <td>{{input.ai_tool}}</td> -->
                    <td>{{input.year_week | dateFormat}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <!--<div class="col">
        <button class="btn btn-secondary" (click)="exportToExcel()">Export Report</button>
      </div>-->
        
    </div>

  

</mat-card-content>
<mat-card-actions>
</mat-card-actions>
</mat-card>
    
    <mat-card *ngIf="selectedReportType === 'plan'" class="fixed-height-card">
      <mat-card-header>
        <mat-card-title>Weekly Plan Report</mat-card-title>
      </mat-card-header>
      <mat-card-content>

  <div class="table-responsive">
     <!-- <div class="col">
          <button class="btn btn-secondary" (click)="exportToExcel3()">Export Report</button>
        </div>
        <br>-->
       

        <div class="col">
      <table class="table table-striped table-hover table-bordered">
          <thead class="thead-dark">
              <tr>
                  <th>User Name</th>
                  <th>Task</th>
                  <th>Status</th>
                  <th>Date</th>
              </tr> 
          </thead>
          <tbody>
              <tr *ngFor="let input of plan; let i = index">
                  <td>{{input.username}}</td>
                  <td>{{input.task_description}}</td>
                  <td>{{input.status}}</td>
                  <td>{{input.year_week | nextWeekDateRange}}</td>
              </tr>
          </tbody>
      </table>
  </div>
  <!--<div class="col">
      <button class="btn btn-secondary" (click)="exportToExcel3()">Export Report</button>
    </div>-->
      
  </div>



</mat-card-content>
<mat-card-actions>
</mat-card-actions>
</mat-card>

  
    <mat-card *ngIf="selectedReportType === 'ratings'" class="fixed-height-card">
        <mat-card-header>
          <mat-card-title>Weekly Ratings</mat-card-title>
        </mat-card-header>
        <mat-card-content>
    <div class="table-responsive">
        <!--<div class="col">
            <button class="btn btn-secondary" (click)="exportToExcel2()">Export Report</button>
          </div>
          <br>-->
         
        
        <table class="table table-striped table-hover table-bordered">
            <thead class="thead-light">
                <tr>
                    <th>User Name</th>
                    <th>Busyness %</th>
                    <th>Satisfaction %</th>
                    <th>Learning %</th>
                    <th>Core %</th>
                    <th>AI Productivity %</th>
                    <th>Skill Acquired</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let rating of ratings; let j= index">
                    <td>{{rating.username}}</td>
                    <td>{{rating.busyness}}</td>
                    <td>{{rating.satisfaction}}</td>
                    <td>{{rating.learning}}</td>
                    <td>{{rating.core}}</td>
                    <td>{{rating.ai_productivity}}</td>
                    <td>{{rating.skill_acquired}}</td>
                    <td>{{rating.year_week|dateFormat}}</td>
                </tr>
            </tbody>
        </table>
        <!--<div class="col">
            <button class="btn btn-secondary" (click)="exportToExcel2()">Export Report</button>
          </div>-->
    </div>
    <!-- <mat-card-actions>
      <div class="col">
        <button class="btn btn-secondary" (click)="exportToExcel()">Export Report</button>
      </div>
    </mat-card-actions> -->
</mat-card-content>
<mat-card-actions>
</mat-card-actions>

</mat-card>
<mat-card-actions>
  <div class="col-md-6">
    <button class="btn btn-secondary" (click)="exportToExcel()">Export Report</button>
  </div>
</mat-card-actions>
